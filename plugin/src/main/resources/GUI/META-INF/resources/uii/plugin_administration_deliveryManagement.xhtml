<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:p="http://primefaces.org/ui">

    <composite:interface>
    </composite:interface>

    <composite:implementation>

        <style>
.grid {
    display: grid;
    grid-template-columns: 15% auto;
    grid-column-gap: 10px;
}

.grid-selection {
    border-right: 1px solid black;
}
</style>


        <h:panelGroup>
            <div class="row">
                <div class="col-sm-12">
                    <div class="box box-color box-bordered lightgrey">
                        <div class="box-title">
                            <h3>
                                <i class="fa fa-plug"></i>
                                <h:outputText value="#{msgs[AdministrationForm.administrationPlugin.title]}" />
                            </h3>
                        </div>
                        <div class="box-content nopadding">

                            <h:panelGroup rendered="#{!LoginForm.hasRole('Plugin_administration_deliveryManagement')}">
                                <h:outputText
                                    styleClass="alert alert-danger alert-dismissable margin-bottom-10 margin-top-10"
                                    value="#{msgs.plugin_administration_missingPermission} Plugin_administration_deliveryManagement"></h:outputText>
                            </h:panelGroup>

                            <h:panelGroup
                                id="actionform"
                                styleClass="col-sm-12"
                                rendered="#{LoginForm.hasRole('Plugin_administration_deliveryManagement')}">
                                <div class="row">
                                    <h:form>
                                        <div class="grid">
                                            <div class="grid-selection">
                                                <ui:repeat
                                                    var="mode"
                                                    value="#{AdministrationForm.administrationPlugin.modes}">
                                                    <button
                                                        type="button"
                                                        class="button-link font-black"
                                                        jsf:id="displayDetails">
                                                        <h:outputText value="#{msgs[mode]}" />
                                                        <f:setPropertyActionListener
                                                            value="#{mode}"
                                                            target="#{AdministrationForm.administrationPlugin.displayMode}" />
                                                        <f:ajax render="@form" />

                                                    </button>


                                                </ui:repeat>


                                            </div>

                                            <h:panelGroup
                                                id="plugin-main-content"
                                                layout="block"
                                                styleClass="grid-main">
                                                <h:outputText value="mode: #{AdministrationForm.administrationPlugin.displayMode}" />
                                            </h:panelGroup>
                                        </div>







                                    </h:form>
                                </div>
                            </h:panelGroup>

                        </div>
                    </div>
                </div>
            </div>
        </h:panelGroup>

    </composite:implementation>
</ui:composition>